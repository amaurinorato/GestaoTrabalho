<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Cadastro de Usuário</title>
</h:head>

<h:body>
	<h:form>
		<ui:include src="../menu.xhtml"></ui:include>
		<h1 style="font-family: Arial;">Cadastro de Usuários</h1>
		<h:panelGrid columns="2" border="0" style="margin-left: 0px"> 
			<p:outputLabel value="Nome: " />
			<p:inputText  value="#{usuarioBean.usuario.nome}" size="60"/>
			<p:outputLabel value="CPF: " />
			<p:inputMask  value="#{usuarioBean.usuario.cpf}" mask="999.999.999-99"/>
			<p:outputLabel value="Matricula: " />
			<p:inputText value="#{usuarioBean.usuario.matricula}" maxlength="9"/>
			<p:outputLabel value="Email: " />
			<p:inputText value="#{usuarioBean.usuario.email}"/>
			<p:outputLabel value="Senha: " />
			<p:password value="#{usuarioBean.usuario.senha}"/>
			<p:outputLabel value="Tipo de usuário: " />
			<p:selectOneRadio id="role" value="#{usuarioBean.usuario.role}"  layout="grid" columns="3" converter="roleConverter">
            	<f:selectItems value="#{usuarioBean.roles}" var="r" itemLabel="#{r.nome}" itemValue="#{r}"/>
        	</p:selectOneRadio>
			<p:commandButton value="Incluir" actionListener="#{usuarioBean.salvarUsuario()}" ajax="false"/>
		</h:panelGrid>
		<br/>
		<hr/>
		<br/>
		<p:dataTable var="usuario" value="#{usuarioBean.usuarios}" style="text-align: center;" >
			<p:column headerText="Nome">
				<h:outputText value="#{usuario.nome}" />
			</p:column>

			<p:column headerText="CPF">
				<h:outputText value="#{usuario.cpf}" />
			</p:column>

			<p:column headerText="Email">
				<h:outputText value="#{usuario.email}" />
			</p:column>
			
			<p:column headerText="Matrícula">
				<h:outputText value="#{usuario.matricula}" />
			</p:column>
			
			<p:column headerText="Tipo de Usuário">
				<h:outputText value="#{usuario.role.nome}" />
			</p:column>
		</p:dataTable>
	</h:form>
</h:body>
</html>